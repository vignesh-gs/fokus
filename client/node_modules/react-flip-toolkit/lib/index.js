var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;require("prop-types");var r=require("flip-toolkit");function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}var p=t.createContext({}),s=t.createContext("portal"),l=function(e){var t,o;function l(){var t;return(t=e.apply(this,arguments)||this).inProgressAnimations={},t.flipCallbacks={},t.el=void 0,t}o=e,(t=l).prototype=Object.create(o.prototype),t.prototype.constructor=t,i(t,o);var a=l.prototype;return a.getSnapshotBeforeUpdate=function(e){return e.flipKey!==this.props.flipKey&&this.el?r.getFlippedElementPositionsBeforeUpdate({element:this.el,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations,portalKey:this.props.portalKey}):null},a.componentDidUpdate=function(e,t,n){this.props.flipKey!==e.flipKey&&this.el&&r.onFlipKeyUpdate({flippedElementPositionsBeforeUpdate:n.flippedElementPositions,cachedOrderedFlipIds:n.cachedOrderedFlipIds,containerEl:this.el,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.props.applyTransformOrigin,spring:this.props.spring,debug:this.props.debug,portalKey:this.props.portalKey,staggerConfig:this.props.staggerConfig,handleEnterUpdateDelete:this.props.handleEnterUpdateDelete,decisionData:{previous:e.decisionData,current:this.props.decisionData},onComplete:this.props.onComplete,onStart:this.props.onStart})},a.render=function(){var e=this,t=this.props,r=t.portalKey,i=n.createElement(p.Provider,{value:this.flipCallbacks},n.createElement(t.element,{className:t.className,ref:function(t){return e.el=t}},this.props.children));return r&&(i=n.createElement(s.Provider,{value:r},i)),i},l}(t.Component);l.defaultProps={applyTransformOrigin:!0,element:"div"};var a=function(e){var n,i=e.children,p=e.flipId,s=e.inverseFlipId,l=e.portalKey,a=o(e,["children","flipId","inverseFlipId","portalKey"]),c=i,d=function(e){return"function"==typeof e}(c);if(!d)try{c=t.Children.only(i)}catch(e){throw new Error("Each Flipped component must wrap a single child")}a.scale||a.translate||a.opacity||r.utilities.assign(a,{translate:!0,scale:!0,opacity:!0});var u=((n={})[r.constants.DATA_FLIP_CONFIG]=JSON.stringify(a),n);return void 0!==p?u[r.constants.DATA_FLIP_ID]=String(p):s&&(u[r.constants.DATA_INVERSE_FLIP_ID]=String(s)),void 0!==l&&(u[r.constants.DATA_PORTAL_KEY]=l),d?c(u):t.cloneElement(c,u)},c=function(e){var t=e.children,i=e.flipId,l=e.shouldFlip,c=e.shouldInvert,d=e.onAppear,u=e.onStart,f=e.onStartImmediate,h=e.onComplete,m=e.onExit,g=e.onSpringUpdate,y=o(e,["children","flipId","shouldFlip","shouldInvert","onAppear","onStart","onStartImmediate","onComplete","onExit","onSpringUpdate"]);return t?y.inverseFlipId?n.createElement(a,Object.assign({},y),t):n.createElement(s.Consumer,null,function(e){return n.createElement(p.Consumer,null,function(o){return r.utilities.isObject(o)&&i&&(o[i]={shouldFlip:l,shouldInvert:c,onAppear:d,onStart:u,onStartImmediate:f,onComplete:h,onExit:m,onSpringUpdate:g}),n.createElement(a,Object.assign({flipId:i},y,{portalKey:e}),t)})}):null};c.displayName="Flipped",exports.ExitContainer=function(e){var n;return t.cloneElement(e.children,((n={})[r.constants.DATA_EXIT_CONTAINER]=!0,n))},exports.Flipped=c,exports.Flipper=l,exports.spring=r.spring;
//# sourceMappingURL=index.js.map
